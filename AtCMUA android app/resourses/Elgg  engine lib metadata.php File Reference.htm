<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Elgg: engine/lib/metadata.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>engine/lib/metadata.php File Reference</h1>
<p><a href="engine_2lib_2metadata_8php_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceElgg_1_1Core.html">Elgg::Core</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Activate a plugin or plugins. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a89f663ec1d09f35d0370107cea3c007f">row_to_elggmetadata</a> ($row)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a database row to a new <a class="el" href="classElggMetadata.html">ElggMetadata</a>.  <a href="#a89f663ec1d09f35d0370107cea3c007f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a94013c19aa9f630d0ac1f9b6fdcf998f">elgg_get_metadata_from_id</a> ($id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a specific metadata object by its id.  <a href="#a94013c19aa9f630d0ac1f9b6fdcf998f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#ad72eead327cdad8e24a557dc76a63a73">elgg_delete_metadata_by_id</a> ($id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deletes metadata using its ID.  <a href="#ad72eead327cdad8e24a557dc76a63a73"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#ad896cf3bd1e5347f5ced1876e8311af2">create_metadata</a> ($entity_guid, $name, $value, $value_type= '', $<a class="el" href="avatar_2view_8php.html#abb8461b00316fcac6292c4b8d5878eb8">owner_guid</a>=0, $access_id=<a class="el" href="elgglib_8php.html#a66176089349e417022b2a57177864e0b">ACCESS_PRIVATE</a>, $allow_multiple=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new metadata object, or update an existing one.  <a href="#ad896cf3bd1e5347f5ced1876e8311af2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a57970d74574d138c36b3b00135ca5bf2">update_metadata</a> ($id, $name, $value, $value_type, $<a class="el" href="avatar_2view_8php.html#abb8461b00316fcac6292c4b8d5878eb8">owner_guid</a>, $access_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update a specific piece of metadata.  <a href="#a57970d74574d138c36b3b00135ca5bf2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a768fd640c6b1cd00f7730bbb909db941">create_metadata_from_array</a> ($entity_guid, array $name_and_values, $value_type, $<a class="el" href="avatar_2view_8php.html#abb8461b00316fcac6292c4b8d5878eb8">owner_guid</a>, $access_id=<a class="el" href="elgglib_8php.html#a66176089349e417022b2a57177864e0b">ACCESS_PRIVATE</a>, $allow_multiple=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function creates metadata from an associative array of "key =&gt; value" pairs.  <a href="#a768fd640c6b1cd00f7730bbb909db941"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a1614d620ec0b0d0b9531c68070ffb33c">elgg_get_metadata</a> (array $options=array())</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns metadata.  <a href="#a1614d620ec0b0d0b9531c68070ffb33c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a33c99b808a909640744d23e06fddde36">elgg_delete_metadata</a> (array $options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deletes metadata based on $options.  <a href="#a33c99b808a909640744d23e06fddde36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#aaf31de5c0c99b8e91f17d5100d3c5267">elgg_disable_metadata</a> (array $options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disables metadata based on $options.  <a href="#aaf31de5c0c99b8e91f17d5100d3c5267"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a0453a61c0940aba0ae9b6fb777d70152">elgg_enable_metadata</a> (array $options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enables metadata based on $options.  <a href="#a0453a61c0940aba0ae9b6fb777d70152"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#aec4b6f0b9565e3554acb9b39ef34a2ac">elgg_get_entities_from_metadata</a> (array $options=array())</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ElggEntities interfaces.  <a href="#aec4b6f0b9565e3554acb9b39ef34a2ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a8fffb7b49e0b05e782a771056cf5e67a">elgg_get_entity_metadata_where_sql</a> ($e_table, $n_table, $names=NULL, $values=NULL, $pairs=NULL, $pair_operator= 'AND', $case_sensitive=TRUE, $order_by_metadata=NULL, $owner_guids=NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns metadata name and value SQL where for entities.  <a href="#a8fffb7b49e0b05e782a771056cf5e67a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a273ceac041577846e90e9f5a50151b36">elgg_list_entities_from_metadata</a> ($options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a list of entities filtered by provided metadata.  <a href="#a273ceac041577846e90e9f5a50151b36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a31f29def4f7a733c4303dba2e7c5527a">export_metadata_plugin_hook</a> ($hook, $entity_type, $returnvalue, $params)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Other functions.  <a href="#a31f29def4f7a733c4303dba2e7c5527a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#ad1eeb64ad5ff1cbbe9da2d7c020e1ae3">string_to_tag_array</a> ($string)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Takes in a comma-separated string and returns an array of tags which have been trimmed.  <a href="#ad1eeb64ad5ff1cbbe9da2d7c020e1ae3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a159cf669a7862cf219632dd42992dcc1">metadata_array_to_values</a> ($array)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Takes a metadata array (which has all kinds of properties) and turns it into a simple array of strings.  <a href="#a159cf669a7862cf219632dd42992dcc1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a87b99830bf8fde3068eee46d1217d00e">get_metadata_url</a> ($id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the URL for this metadata.  <a href="#a87b99830bf8fde3068eee46d1217d00e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a8ed692cb7d634a37cd931bfd698ef244">register_metadata_as_independent</a> ($type, $subtype= '*')</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mark entities with a particular type and subtype as having access permissions that can be changed independently from their parent entity.  <a href="#a8ed692cb7d634a37cd931bfd698ef244"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a6807f4aff6b96ec4807fa8c0eba7df5b">is_metadata_independent</a> ($type, $subtype)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determines whether entities of a given type and subtype should not change their metadata in line with their parent entity.  <a href="#a6807f4aff6b96ec4807fa8c0eba7df5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a921e7c7d6a325bf3c1c6e22e59b5ae11">metadata_update</a> ($event, $object_type, $object)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">When an entity is updated, resets the access ID on all of its child metadata.  <a href="#a921e7c7d6a325bf3c1c6e22e59b5ae11"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a8d27c0f46a2cd8e29d82fb63ab1be86e">elgg_register_metadata_url_handler</a> ($extender_name, $<a class="el" href="js_2elgg_8php.html#ad24bbb96e3b953b4a38f529fd76d585a">function</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a metadata url handler.  <a href="#a8d27c0f46a2cd8e29d82fb63ab1be86e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a5115a656ff8322f26c6d7c5db4063ab5">elgg_get_metadata_cache</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the global metadata cache instance.  <a href="#a5115a656ff8322f26c6d7c5db4063ab5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a7b4d30dffff18288cb15333a6145d7e4">elgg_invalidate_metadata_cache</a> ($action, array $options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Invalidate the metadata cache based on options passed to various *_metadata functions.  <a href="#a7b4d30dffff18288cb15333a6145d7e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2metadata_8php.html#a4c19e2fa4121f0e07742f9a0cb082483">metadata_test</a> ($hook, $type, $value, $params)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Metadata unit test.  <a href="#a4c19e2fa4121f0e07742f9a0cb082483"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ad896cf3bd1e5347f5ced1876e8311af2"></a><!-- doxytag: member="metadata.php::create_metadata" ref="ad896cf3bd1e5347f5ced1876e8311af2" args="($entity_guid, $name, $value, $value_type= '', $owner_guid=0, $access_id=ACCESS_PRIVATE, $allow_multiple=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_metadata </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>entity_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value_type</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>owner_guid</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>access_id</em> = <code><a class="el" href="elgglib_8php.html#a66176089349e417022b2a57177864e0b">ACCESS_PRIVATE</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>allow_multiple</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new metadata object, or update an existing one. </p>
<p>Metadata can be an array by setting allow_multiple to TRUE, but it is an indexed array with no control over the indexing.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$entity_guid The entity to attach the metadata to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$name Name of the metadata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$value Value of the metadata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$value_type 'text', 'integer', or '' for automatic detection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$owner_guid GUID of entity that owns the metadata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$access_id Default is ACCESS_PRIVATE </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bool</em>&nbsp;</td><td>$allow_multiple Allow multiple values for one key. Default is FALSE</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int|false id of metadata or FALSE if failure </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00069">69</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a768fd640c6b1cd00f7730bbb909db941"></a><!-- doxytag: member="metadata.php::create_metadata_from_array" ref="a768fd640c6b1cd00f7730bbb909db941" args="($entity_guid, array $name_and_values, $value_type, $owner_guid, $access_id=ACCESS_PRIVATE, $allow_multiple=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_metadata_from_array </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>entity_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>name_and_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>owner_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>access_id</em> = <code><a class="el" href="elgglib_8php.html#a66176089349e417022b2a57177864e0b">ACCESS_PRIVATE</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>allow_multiple</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function creates metadata from an associative array of "key =&gt; value" pairs. </p>
<p>To achieve an array for a single key, pass in the same key multiple times with allow_multiple set to TRUE. This creates an indexed array. It does not support associative arrays and there is no guarantee on the ordering in the array.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$entity_guid The entity to attach the metadata to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$name_and_values Associative array - a value can be a string, number, bool </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$value_type 'text', 'integer', or '' for automatic detection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$owner_guid GUID of entity that owns the metadata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$access_id Default is ACCESS_PRIVATE </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bool</em>&nbsp;</td><td>$allow_multiple Allow multiple values for one key. Default is FALSE</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00240">240</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a33c99b808a909640744d23e06fddde36"></a><!-- doxytag: member="metadata.php::elgg_delete_metadata" ref="a33c99b808a909640744d23e06fddde36" args="(array $options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_delete_metadata </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>options</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes metadata based on $options. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Unlike <a class="el" href="engine_2lib_2metadata_8php.html#a1614d620ec0b0d0b9531c68070ffb33c" title="Returns metadata.">elgg_get_metadata()</a> this will not accept an empty options array! This requires at least one constraint: metadata_owner_guid(s), metadata_name(s), metadata_value(s), or guid(s) must be set.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$options An options array. {</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="engine_2lib_2metadata_8php.html#a1614d620ec0b0d0b9531c68070ffb33c" title="Returns metadata.">elgg_get_metadata()</a>} </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool|null true on success, false on failure, null if no metadata to delete. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.8.0 </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00307">307</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad72eead327cdad8e24a557dc76a63a73"></a><!-- doxytag: member="metadata.php::elgg_delete_metadata_by_id" ref="ad72eead327cdad8e24a557dc76a63a73" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_delete_metadata_by_id </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes metadata using its ID. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$id The metadata ID to delete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00045">45</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="aaf31de5c0c99b8e91f17d5100d3c5267"></a><!-- doxytag: member="metadata.php::elgg_disable_metadata" ref="aaf31de5c0c99b8e91f17d5100d3c5267" args="(array $options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_disable_metadata </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>options</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disables metadata based on $options. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Unlike <a class="el" href="engine_2lib_2metadata_8php.html#a1614d620ec0b0d0b9531c68070ffb33c" title="Returns metadata.">elgg_get_metadata()</a> this will not accept an empty options array!</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$options An options array. { <a class="el" href="engine_2lib_2metadata_8php.html#a1614d620ec0b0d0b9531c68070ffb33c" title="Returns metadata.">elgg_get_metadata()</a>} </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool|null true on success, false on failure, null if no metadata disabled. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.8.0 </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00330">330</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0453a61c0940aba0ae9b6fb777d70152"></a><!-- doxytag: member="metadata.php::elgg_enable_metadata" ref="a0453a61c0940aba0ae9b6fb777d70152" args="(array $options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_enable_metadata </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>options</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enables metadata based on $options. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Unlike <a class="el" href="engine_2lib_2metadata_8php.html#a1614d620ec0b0d0b9531c68070ffb33c" title="Returns metadata.">elgg_get_metadata()</a> this will not accept an empty options array!</dd>
<dd>
In order to enable metadata, you must first use <a class="el" href="engine_2lib_2access_8php.html#a15794857a9e59613ff485226202b5b0d">access_show_hidden_entities()</a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$options An options array. { <a class="el" href="engine_2lib_2metadata_8php.html#a1614d620ec0b0d0b9531c68070ffb33c" title="Returns metadata.">elgg_get_metadata()</a>} </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool|null true on success, false on failure, null if no metadata enabled. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.8.0 </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00357">357</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="aec4b6f0b9565e3554acb9b39ef34a2ac"></a><!-- doxytag: member="metadata.php::elgg_get_entities_from_metadata" ref="aec4b6f0b9565e3554acb9b39ef34a2ac" args="(array $options=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_get_entities_from_metadata </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>options</em> = <code>array()</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ElggEntities interfaces. </p>
<p>Returns entities based upon metadata. Also accepts all options available to <a class="el" href="entities_8php.html#af085c8362e49c4f52d4f1fcf58ca6fb8" title="Returns an array of entities with optional filtering.">elgg_get_entities()</a>. Supports the singular option shortcut.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Using metadata_names and metadata_values results in a "names IN (...) AND values IN (...)" clause. This is subtly differently than default multiple metadata_name_value_pairs, which use "(name = value) AND (name = value)" clauses.</dd></dl>
<p>When in doubt, use name_value_pairs.</p>
<p>To ask for entities that do not have a metadata value, use a custom where clause like this:</p>
<p>$options['wheres'][] = "NOT EXISTS ( SELECT 1 FROM {$dbprefix}metadata md WHERE md.entity_guid = e.guid AND md.name_id = $name_metastring_id AND md.value_id = $value_metastring_id)";</p>
<p>Note the metadata name and value has been denormalized in the above example.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="entities_8php.html#af085c8362e49c4f52d4f1fcf58ca6fb8" title="Returns an array of entities with optional filtering.">elgg_get_entities</a></dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$options Array in format:</td></tr>
  </table>
  </dd>
</dl>
<p>metadata_names =&gt; NULL|ARR metadata names</p>
<p>metadata_values =&gt; NULL|ARR metadata values</p>
<p>metadata_name_value_pairs =&gt; NULL|ARR ( name =&gt; 'name', value =&gt; 'value', 'operand' =&gt; '=', 'case_sensitive' =&gt; TRUE ) Currently if multiple values are sent via an array (value =&gt; array('value1', 'value2') the pair's operand will be forced to "IN". If passing "IN" as the operand and a string as the value, the value must be a properly quoted and escaped string.</p>
<p>metadata_name_value_pairs_operator =&gt; NULL|STR The operator to use for combining (name = value) OPERATOR (name = value); default AND</p>
<p>metadata_case_sensitive =&gt; BOOL Overall Case sensitive</p>
<p>order_by_metadata =&gt; NULL|ARR array( 'name' =&gt; 'metadata_text1', 'direction' =&gt; ASC|DESC, 'as' =&gt; text|integer ) Also supports array('name' =&gt; 'metadata_text1')</p>
<p>metadata_owner_guids =&gt; NULL|ARR guids for metadata owners</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classElggEntity.html">ElggEntity</a>[]|mixed If count, int. If not count, array. false on errors. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.7.0 </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00432">432</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8fffb7b49e0b05e782a771056cf5e67a"></a><!-- doxytag: member="metadata.php::elgg_get_entity_metadata_where_sql" ref="a8fffb7b49e0b05e782a771056cf5e67a" args="($e_table, $n_table, $names=NULL, $values=NULL, $pairs=NULL, $pair_operator= 'AND', $case_sensitive=TRUE, $order_by_metadata=NULL, $owner_guids=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_get_entity_metadata_where_sql </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>e_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>n_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>names</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>values</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>pairs</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>pair_operator</em> = <code>'AND'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>case_sensitive</em> = <code>TRUE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>order_by_metadata</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>owner_guids</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns metadata name and value SQL where for entities. </p>
<p>NB: $names and $values are not paired. Use $pairs for this. Pairs default to '=' operand.</p>
<p>This function is reused for annotations because the tables are exactly the same.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$e_table Entities table name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$n_table Normalized metastrings table name (Where entities, values, and names are joined. annotations / metadata) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array|null</em>&nbsp;</td><td>$names Array of names </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array|null</em>&nbsp;</td><td>$values Array of values </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array|null</em>&nbsp;</td><td>$pairs Array of names / values / operands </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$pair_operator ("AND" or "OR") Operator to use to join the where clauses for pairs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bool</em>&nbsp;</td><td>$case_sensitive Case sensitive metadata names? </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array|null</em>&nbsp;</td><td>$order_by_metadata Array of names / direction </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array|null</em>&nbsp;</td><td>$owner_guids Array of owner GUIDs</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>false|array False on fail, array('joins', 'wheres') </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.7.0  private </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00482">482</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1614d620ec0b0d0b9531c68070ffb33c"></a><!-- doxytag: member="metadata.php::elgg_get_metadata" ref="a1614d620ec0b0d0b9531c68070ffb33c" args="(array $options=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_get_metadata </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>options</em> = <code>array()</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns metadata. </p>
<p>Accepts all <a class="el" href="entities_8php.html#af085c8362e49c4f52d4f1fcf58ca6fb8" title="Returns an array of entities with optional filtering.">elgg_get_entities()</a> options for entity restraints.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="entities_8php.html#af085c8362e49c4f52d4f1fcf58ca6fb8" title="Returns an array of entities with optional filtering.">elgg_get_entities</a></dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>1.7's <a class="el" href="deprecated-1_88_8php.html#a6c7c5938c860e8642ad9b7b3bb017a38" title="Get the metadata where the entities they are referring to match a given criteria...">find_metadata()</a> didn't support limits and returned all metadata. This function defaults to a limit of 25. There is probably not a reason for you to return all metadata unless you're exporting an entity, have other restraints in place, or are doing something horribly wrong in your code.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$options Array in format:</td></tr>
  </table>
  </dd>
</dl>
<p>metadata_names =&gt; NULL|ARR metadata names metadata_values =&gt; NULL|ARR metadata values metadata_ids =&gt; NULL|ARR metadata ids metadata_case_sensitive =&gt; BOOL Overall Case sensitive metadata_owner_guids =&gt; NULL|ARR guids for metadata owners metadata_created_time_lower =&gt; INT Lower limit for created time. metadata_created_time_upper =&gt; INT Upper limit for created time. metadata_calculation =&gt; STR Perform the MySQL function on the metadata values returned. The "metadata_calculation" option causes this function to return the result of performing a mathematical calculation on all metadata that match the query instead of returning <a class="el" href="classElggMetadata.html">ElggMetadata</a> objects.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classElggMetadata.html">ElggMetadata</a>[]|mixed </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.8.0 </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00283">283</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5115a656ff8322f26c6d7c5db4063ab5"></a><!-- doxytag: member="metadata.php::elgg_get_metadata_cache" ref="a5115a656ff8322f26c6d7c5db4063ab5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_get_metadata_cache </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the global metadata cache instance. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classElggVolatileMetadataCache.html">ElggVolatileMetadataCache</a></dd></dl>
<p>private </p>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00916">916</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a94013c19aa9f630d0ac1f9b6fdcf998f"></a><!-- doxytag: member="metadata.php::elgg_get_metadata_from_id" ref="a94013c19aa9f630d0ac1f9b6fdcf998f" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_get_metadata_from_id </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a specific metadata object by its id. </p>
<p>If you want multiple metadata objects, use <a class="el" href="engine_2lib_2metadata_8php.html#a1614d620ec0b0d0b9531c68070ffb33c">elgg_get_metadata()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$id The id of the metadata object being retrieved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ElggMetadata|false FALSE if not found </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00035">35</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7b4d30dffff18288cb15333a6145d7e4"></a><!-- doxytag: member="metadata.php::elgg_invalidate_metadata_cache" ref="a7b4d30dffff18288cb15333a6145d7e4" args="($action, array $options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_invalidate_metadata_cache </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Invalidate the metadata cache based on options passed to various *_metadata functions. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$action Action performed on metadata. "delete", "disable", or "enable" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$options Options passed to elgg_(delete|disable|enable)_metadata </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00931">931</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a273ceac041577846e90e9f5a50151b36"></a><!-- doxytag: member="metadata.php::elgg_list_entities_from_metadata" ref="a273ceac041577846e90e9f5a50151b36" args="($options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_list_entities_from_metadata </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>options</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a list of entities filtered by provided metadata. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="engine_2lib_2metadata_8php.html#aec4b6f0b9565e3554acb9b39ef34a2ac" title="ElggEntities interfaces.">elgg_get_entities_from_metadata</a></dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$options Options array</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.7.0 </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00734">734</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8d27c0f46a2cd8e29d82fb63ab1be86e"></a><!-- doxytag: member="metadata.php::elgg_register_metadata_url_handler" ref="a8d27c0f46a2cd8e29d82fb63ab1be86e" args="($extender_name, $function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_register_metadata_url_handler </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>extender_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>function</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register a metadata url handler. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$extender_name The name, default 'all'. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$function The function name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00905">905</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a31f29def4f7a733c4303dba2e7c5527a"></a><!-- doxytag: member="metadata.php::export_metadata_plugin_hook" ref="a31f29def4f7a733c4303dba2e7c5527a" args="($hook, $entity_type, $returnvalue, $params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">export_metadata_plugin_hook </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>hook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>entity_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>returnvalue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Other functions. </p>
<p>Handler called by trigger_plugin_hook on the "export" event.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$hook export </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$entity_type all </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$returnvalue Value returned from previous hook </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$params Params</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array  private</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classInvalidParameterException.html">InvalidParameterException</a></em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00755">755</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a87b99830bf8fde3068eee46d1217d00e"></a><!-- doxytag: member="metadata.php::get_metadata_url" ref="a87b99830bf8fde3068eee46d1217d00e" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_metadata_url </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the URL for this metadata. </p>
<p>By default this links to the export handler in the current view.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$id Metadata ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00828">828</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6807f4aff6b96ec4807fa8c0eba7df5b"></a><!-- doxytag: member="metadata.php::is_metadata_independent" ref="a6807f4aff6b96ec4807fa8c0eba7df5b" args="($type, $subtype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">is_metadata_independent </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>subtype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determines whether entities of a given type and subtype should not change their metadata in line with their parent entity. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$type The type - object, user, etc </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$subtype The entity subtype</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00863">863</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a159cf669a7862cf219632dd42992dcc1"></a><!-- doxytag: member="metadata.php::metadata_array_to_values" ref="a159cf669a7862cf219632dd42992dcc1" args="($array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">metadata_array_to_values </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>array</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Takes a metadata array (which has all kinds of properties) and turns it into a simple array of strings. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$array Metadata array</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array Array of strings </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00807">807</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4c19e2fa4121f0e07742f9a0cb082483"></a><!-- doxytag: member="metadata.php::metadata_test" ref="a4c19e2fa4121f0e07742f9a0cb082483" args="($hook, $type, $value, $params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">metadata_test </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>hook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Metadata unit test. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$hook unit_test </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$type system </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$value Array of other tests </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$params Params</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array  private </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00973">973</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a921e7c7d6a325bf3c1c6e22e59b5ae11"></a><!-- doxytag: member="metadata.php::metadata_update" ref="a921e7c7d6a325bf3c1c6e22e59b5ae11" args="($event, $object_type, $object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">metadata_update </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>object_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>object</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>When an entity is updated, resets the access ID on all of its child metadata. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$event The name of the event </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$object_type The type of object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classElggEntity.html">ElggEntity</a></em>&nbsp;</td><td>$object The entity itself</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00884">884</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8ed692cb7d634a37cd931bfd698ef244"></a><!-- doxytag: member="metadata.php::register_metadata_as_independent" ref="a8ed692cb7d634a37cd931bfd698ef244" args="($type, $subtype= '*')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">register_metadata_as_independent </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>subtype</em> = <code>'*'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mark entities with a particular type and subtype as having access permissions that can be changed independently from their parent entity. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$type The type - object, user, etc </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$subtype The subtype; all subtypes by default</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00846">846</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a89f663ec1d09f35d0370107cea3c007f"></a><!-- doxytag: member="metadata.php::row_to_elggmetadata" ref="a89f663ec1d09f35d0370107cea3c007f" args="($row)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">row_to_elggmetadata </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>row</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert a database row to a new <a class="el" href="classElggMetadata.html">ElggMetadata</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>stdClass</em>&nbsp;</td><td>$row An object from the database</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>stdClass|ElggMetadata  private </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00018">18</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad1eeb64ad5ff1cbbe9da2d7c020e1ae3"></a><!-- doxytag: member="metadata.php::string_to_tag_array" ref="ad1eeb64ad5ff1cbbe9da2d7c020e1ae3" args="($string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string_to_tag_array </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>string</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Takes in a comma-separated string and returns an array of tags which have been trimmed. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$string Comma-separated tag string</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array|false An array of strings, or false on failure </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00788">788</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
<a class="anchor" id="a57970d74574d138c36b3b00135ca5bf2"></a><!-- doxytag: member="metadata.php::update_metadata" ref="a57970d74574d138c36b3b00135ca5bf2" args="($id, $name, $value, $value_type, $owner_guid, $access_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update_metadata </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>owner_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>access_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update a specific piece of metadata. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$id ID of the metadata to update </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$name Metadata name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$value Metadata value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$value_type Value type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$owner_guid Owner guid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$access_id Access ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="engine_2lib_2metadata_8php_source.html#l00156">156</a> of file <a class="el" href="engine_2lib_2metadata_8php_source.html">metadata.php</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Feb 6 00:00:43 2014 for Elgg by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
